
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B139P18WHM"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-B139P18WHM');
    </script>
    
    <title>Contributing code &#8212; DoWhy  documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/dowhy-logo-small.png" class="logo__image only-light" alt="Logo image">
    <img src="../_static/dowhy-logo-small.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../getting_started/index.html">
  Getting Started
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../user_guide/index.html">
  User Guide
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../example_notebooks/nb_index.html">
  Examples
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../dowhy.html">
  API reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../contributing.html">
  Contributing
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../code_repo.html">
  Release notes
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
      <div class="navbar-end-item">
        <div class="dropdown" id="version_switcher">
    <button type="button" class="btn btn-sm navbar-btn dropdown-toggle" id="version_switcher_button" data-toggle="dropdown">
        v0.9
        <span class="caret"></span>
    </button>
    <div id="version_switcher_menu" class="dropdown-menu list-group-flush py-0" aria-labelledby="version_switcher_button">
        <dl>
            <dt>Releases</dt>
            <dd><a href="/dowhy/v0.8/index.html">v0.8</a></dd>
            <dd><a href="/dowhy/v0.7.1/index.html">v0.7.1</a></dd>
            <dd><a href="/dowhy/v0.7/index.html">v0.7</a></dd>
            <dd><a href="/dowhy/v0.6/index.html">v0.6</a></dd>
            <dd><a href="/dowhy/v0.5.1/index.html">v0.5.1</a></dd>
            <dd><a href="/dowhy/v0.5/index.html">v0.5</a></dd>
            <dd><a href="/dowhy/v0.4/index.html">v0.4</a></dd>
            <dd><a href="/dowhy/v0.2/index.html">v0.2</a></dd>
            <dd><a href="/dowhy/v0.1.1-alpha/index.html">v0.1.1-alpha</a></dd>
        </dl>        
        <dl>
            <dt>Branches</dt>
            <dd><a href="">main</a></dd>
        </dl>        
    </div>
</div>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    
  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#local-setup">
   Local setup
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pull-request-checklist">
   Pull request checklist
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="contributing-code">
<h1>Contributing code<a class="headerlink" href="#contributing-code" title="Permalink to this heading"></a></h1>
<section id="local-setup">
<h2>Local setup<a class="headerlink" href="#local-setup" title="Permalink to this heading"></a></h2>
<p>To contribute code, basic knowledge of git is required, if you are unfamiliar
with the git workflow, checkout <a class="reference external" href="https://docs.github.com/en/get-started/quickstart/hello-world">GitHub’s tutorial</a>.
The following steps allow you to contribute code to DoWhy.</p>
<ol class="arabic">
<li><p>Fork the <a class="reference external" href="https://github.com/py-why/dowhy">dowhy main repository</a></p></li>
<li><p>Clone this repository to your local machine using</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/&lt;YOUR_GITHUB_USERNAME&gt;/dowhy
</pre></div>
</div>
</li>
<li><p>Install DoWhy and its requirements. Poetry will create a virtual environment automatically,
but if preferred, it can be created in a different way.
By default, Poetry will install DoWhy in interactive mode.
This way, you can immediately test your changes to the codebase.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> dowhy
pip install --upgrade pip
poetry install -E <span class="s2">&quot;plotting causalml&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Installing pygraphviz can cause problems on some platforms.
One way, that works for most Linux distributions is to
first install graphviz and then pygraphviz as shown below.
Otherwise, please consult the documentation of <a class="reference external" href="https://pygraphviz.github.io/documentation/stable/install.html">pygraphviz</a>.</p>
</div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt install graphviz libgraphviz-dev graphviz-dev pkg-config
pip install pygraphviz --install-option<span class="o">=</span><span class="s2">&quot;--include-path=/usr/include/graphviz&quot;</span> <span class="se">\</span>
--install-option<span class="o">=</span><span class="s2">&quot;--library-path=/usr/lib/graphviz/&quot;</span>
</pre></div>
</div>
</li>
<li><p>(optional) add dowhy as an upstream remote to keep your
fork up-to-date with DoWhy’s main branch.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git remote add upstream http://www.github.com/py-why/dowhy
</pre></div>
</div>
<p>You are now ready to make changes to the code base locally.</p>
</li>
</ol>
</section>
<section id="pull-request-checklist">
<h2>Pull request checklist<a class="headerlink" href="#pull-request-checklist" title="Permalink to this heading"></a></h2>
<ol class="arabic">
<li><p>Execute the flake8 linter for breaking warnings and fix all reported problems.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe lint
</pre></div>
</div>
</li>
<li><p>Make sure the newly added code complies with the format requirements of <a class="reference external" href="https://black.readthedocs.io/en/stable/">black</a> and
<a class="reference external" href="https://pycqa.github.io/isort/">isort</a>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe format_check
</pre></div>
</div>
<p>You can use following commands to fix formatting automatically</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe format
</pre></div>
</div>
</li>
<li><p>Add tests for your new code and execute the unittests to make sure
you did not introduce any breaking changes or bugs.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe <span class="nb">test</span>
</pre></div>
</div>
<p>Note that you can also execute those tasks together</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe verify
</pre></div>
</div>
<p>A full list of available tasks can be obtained using</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run poe -h
</pre></div>
</div>
<p>The full test suite of DoWhy takes quite long. To speed up development cycles,
you can restrict the tests executed as in the following example.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry run pytest -v tests/causal_refuters
</pre></div>
</div>
</li>
<li><p>Once your code is finished and it passes all checks successfully,
commit your changes. Make sure to add an informative commit message and to sign off your
commits:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git commit --signoff -m <span class="s2">&quot;informative commit message&quot;</span>
</pre></div>
</div>
<p>By including this sign-off step, a commit is enriched with a Developer Certificate of Origin (DCO), containing the author’s name and email address.
The DCO is a lightweight alternative to a CLA and affirms that the author is the source of the committed code and has the right to contribute it to the project.
For the full text, see <a class="reference external" href="https://developercertificate.org">DCO</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note the “–signoff” or shorthand “-s” is obligatory and commits without cannot be merged.
By default, most IDEs won’t include this step within their git integration, so an additional setup may be required.</p>
</div>
<p>In case you made a single commit without adding the required DCO, you can do</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git commit --amend --no-edit --signoff
git push -f origin &lt;BRANCH_NAME&gt;
</pre></div>
</div>
<p>In case of more commits, one way is to squash them together (example for 3 commits)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git reset --soft HEAD~3
git commit -s -m <span class="s2">&quot;new informative commit message of squashed commit&quot;</span>
</pre></div>
</div>
<p>or use a rebase with as many “^” as commits to be changed.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git rebase --signoff HEAD^^^
</pre></div>
</div>
</li>
<li><p>(advanced) Poetry fixes its dependecies and their version with a poetry.lock file. Poetry’s dependencies should be updated regularly by maintainers via</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>poetry update
</pre></div>
</div>
<p>For most PRs, this is unnecessary. If a PR necessitates a lockfile change, we request that you provide a justification as to why a dependency update was necessary.</p>
</li>
</ol>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, PyWhy contributors.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>